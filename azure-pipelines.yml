#README - https://docs.microsoft.com/pl-pl/azure/devops/pipelines/yaml-schema

trigger:
  branches:
    include:
      - master
      - develop
      - feature/*
      - release/*
      - hotfix/*

variables:
  vmImage: 'ubuntu-latest'
  envName: 'development'
  mavenGoal: 'pom.xml'
  major: 2
  minor: 0
  patch: 0

resources:
  repositories:
    - repository: azure-pipelines-example
      type: git
      name: azure-pipelines-example

stages:
  - template: azure-pipelines/build-name-stage.yaml@azure-pipelines-example
  - template: azure-pipelines/build-stages.yaml@azure-pipelines-example
    parameters:
      vmImage: $(vmImage)
      mavenGoal: $(mavenGoal)
  - template: azure-pipelines/deploy-stages.yaml@azure-pipelines-example
    parameters:
      envName: $(envName)
